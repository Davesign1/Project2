/*!
 *  BMWUSA 
 *  Name: image-lazy-load 
 * 
 */!function(modules){var installedModules={};function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.l=!0,module.exports}__webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.d=function(exports,name,getter){__webpack_require__.o(exports,name)||Object.defineProperty(exports,name,{enumerable:!0,get:getter})},__webpack_require__.r=function(exports){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(exports,"__esModule",{value:!0})},__webpack_require__.t=function(value,mode){if(1&mode&&(value=__webpack_require__(value)),8&mode)return value;if(4&mode&&"object"==typeof value&&value&&value.__esModule)return value;var ns=Object.create(null);if(__webpack_require__.r(ns),Object.defineProperty(ns,"default",{enumerable:!0,value}),2&mode&&"string"!=typeof value)for(var key in value)__webpack_require__.d(ns,key,function(key){return value[key]}.bind(null,key));return ns},__webpack_require__.n=function(module){var getter=module&&module.__esModule?function getDefault(){return module.default}:function getModuleExports(){return module};return __webpack_require__.d(getter,"a",getter),getter},__webpack_require__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__webpack_require__.p="/etc/designs/bmwusa/bmwusa-clientlibs/",__webpack_require__(__webpack_require__.s=44)}({"./frontend_src/components/image-lazy-load/js/image-lazy-load.js":function(module,exports,__webpack_require__){"use strict";__webpack_require__("./node_modules/lazysizes/lazysizes.js"),__webpack_require__("./node_modules/lazysizes/plugins/attrchange/ls.attrchange.js");window.lazySizesConfig=window.lazySizesConfig||{lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:1,loadHidden:!1,ricTimeout:0,throttleDelay:125,expand:500}},"./node_modules/lazysizes/lazysizes.js":function(module,exports,__webpack_require__){!function(window,factory){var lazySizes=function l(window,document,Date){"use strict";var lazysizes,lazySizesCfg;if(function(){var prop,lazySizesDefaults={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(prop in lazySizesCfg=window.lazySizesConfig||window.lazysizesConfig||{},lazySizesDefaults)prop in lazySizesCfg||(lazySizesCfg[prop]=lazySizesDefaults[prop])}(),!document||!document.getElementsByClassName)return{init:function(){},cfg:lazySizesCfg,noSupport:!0};var docElem=document.documentElement,supportPicture=window.HTMLPictureElement,addEventListener=window.addEventListener.bind(window),setTimeout=window.setTimeout,requestAnimationFrame=window.requestAnimationFrame||setTimeout,requestIdleCallback=window.requestIdleCallback,regPicture=/^picture$/i,loadEvents=["load","error","lazyincluded","_lazyloaded"],regClassCache={},forEach=Array.prototype.forEach,hasClass=function(ele,cls){return regClassCache[cls]||(regClassCache[cls]=new RegExp("(\\s|^)"+cls+"(\\s|$)")),regClassCache[cls].test(ele.getAttribute("class")||"")&&regClassCache[cls]},addClass=function(ele,cls){hasClass(ele,cls)||ele.setAttribute("class",(ele.getAttribute("class")||"").trim()+" "+cls)},removeClass=function(ele,cls){var reg;(reg=hasClass(ele,cls))&&ele.setAttribute("class",(ele.getAttribute("class")||"").replace(reg," "))},addRemoveLoadEvents=function(dom,fn,add){var action=add?"addEventListener":"removeEventListener";add&&addRemoveLoadEvents(dom,fn),loadEvents.forEach((function(evt){dom[action](evt,fn)}))},triggerEvent=function(elem,name,detail,noBubbles,noCancelable){var event=document.createEvent("Event");return detail||(detail={}),detail.instance=lazysizes,event.initEvent(name,!noBubbles,!noCancelable),event.detail=detail,elem.dispatchEvent(event),event},updatePolyfill=function(el,full){var polyfill;!supportPicture&&(polyfill=window.picturefill||lazySizesCfg.pf)?(full&&full.src&&!el.getAttribute("srcset")&&el.setAttribute("srcset",full.src),polyfill({reevaluate:!0,elements:[el]})):full&&full.src&&(el.src=full.src)},getCSS=function(elem,style){return(getComputedStyle(elem,null)||{})[style]},getWidth=function(elem,parent,width){for(width=width||elem.offsetWidth;width<lazySizesCfg.minSize&&parent&&!elem._lazysizesWidth;)width=parent.offsetWidth,parent=parent.parentNode;return width},rAF=(firstFns=[],secondFns=[],fns=firstFns,run=function(){var runFns=fns;for(fns=firstFns.length?secondFns:firstFns,running=!0,waiting=!1;runFns.length;)runFns.shift()();running=!1},rafBatch=function(fn,queue){running&&!queue?fn.apply(this,arguments):(fns.push(fn),waiting||(waiting=!0,(document.hidden?setTimeout:requestAnimationFrame)(run)))},rafBatch._lsFlush=run,rafBatch),rAFIt=function(fn,simple){return simple?function(){rAF(fn)}:function(){var that=this,args=arguments;rAF((function(){fn.apply(that,args)}))}},debounce=function(func){var timeout,timestamp,run=function(){timeout=null,func()},later=function(){var last=Date.now()-timestamp;last<99?setTimeout(later,99-last):(requestIdleCallback||run)(run)};return function(){timestamp=Date.now(),timeout||(timeout=setTimeout(later,99))}},loader=(regImg=/^img$/i,regIframe=/^iframe$/i,supportScroll="onscroll"in window&&!/(gle|ing)bot/.test(navigator.userAgent),currentExpand=0,isLoading=0,lowRuns=-1,resetPreloading=function(e){isLoading--,(!e||isLoading<0||!e.target)&&(isLoading=0)},isVisible=function(elem){return null==isBodyHidden&&(isBodyHidden="hidden"==getCSS(document.body,"visibility")),isBodyHidden||!("hidden"==getCSS(elem.parentNode,"visibility")&&"hidden"==getCSS(elem,"visibility"))},isNestedVisible=function(elem,elemExpand){var outerRect,parent=elem,visible=isVisible(elem);for(eLtop-=elemExpand,eLbottom+=elemExpand,eLleft-=elemExpand,eLright+=elemExpand;visible&&(parent=parent.offsetParent)&&parent!=document.body&&parent!=docElem;)(visible=(getCSS(parent,"opacity")||1)>0)&&"visible"!=getCSS(parent,"overflow")&&(outerRect=parent.getBoundingClientRect(),visible=eLright>outerRect.left&&eLleft<outerRect.right&&eLbottom>outerRect.top-1&&eLtop<outerRect.bottom+1);return visible},checkElements=function(){var eLlen,i,rect,autoLoadElem,loadedSomething,elemExpand,elemNegativeExpand,elemExpandVal,beforeExpandVal,defaultExpand,preloadExpand,hFac,lazyloadElems=lazysizes.elements;if((loadMode=lazySizesCfg.loadMode)&&isLoading<8&&(eLlen=lazyloadElems.length)){for(i=0,lowRuns++;i<eLlen;i++)if(lazyloadElems[i]&&!lazyloadElems[i]._lazyRace)if(!supportScroll||lazysizes.prematureUnveil&&lazysizes.prematureUnveil(lazyloadElems[i]))unveilElement(lazyloadElems[i]);else if((elemExpandVal=lazyloadElems[i].getAttribute("data-expand"))&&(elemExpand=1*elemExpandVal)||(elemExpand=currentExpand),defaultExpand||(defaultExpand=!lazySizesCfg.expand||lazySizesCfg.expand<1?docElem.clientHeight>500&&docElem.clientWidth>500?500:370:lazySizesCfg.expand,lazysizes._defEx=defaultExpand,preloadExpand=defaultExpand*lazySizesCfg.expFactor,hFac=lazySizesCfg.hFac,isBodyHidden=null,currentExpand<preloadExpand&&isLoading<1&&lowRuns>2&&loadMode>2&&!document.hidden?(currentExpand=preloadExpand,lowRuns=0):currentExpand=loadMode>1&&lowRuns>1&&isLoading<6?defaultExpand:0),beforeExpandVal!==elemExpand&&(eLvW=innerWidth+elemExpand*hFac,elvH=innerHeight+elemExpand,elemNegativeExpand=-1*elemExpand,beforeExpandVal=elemExpand),rect=lazyloadElems[i].getBoundingClientRect(),(eLbottom=rect.bottom)>=elemNegativeExpand&&(eLtop=rect.top)<=elvH&&(eLright=rect.right)>=elemNegativeExpand*hFac&&(eLleft=rect.left)<=eLvW&&(eLbottom||eLright||eLleft||eLtop)&&(lazySizesCfg.loadHidden||isVisible(lazyloadElems[i]))&&(isCompleted&&isLoading<3&&!elemExpandVal&&(loadMode<3||lowRuns<4)||isNestedVisible(lazyloadElems[i],elemExpand))){if(unveilElement(lazyloadElems[i]),loadedSomething=!0,isLoading>9)break}else!loadedSomething&&isCompleted&&!autoLoadElem&&isLoading<4&&lowRuns<4&&loadMode>2&&(preloadElems[0]||lazySizesCfg.preloadAfterLoad)&&(preloadElems[0]||!elemExpandVal&&(eLbottom||eLright||eLleft||eLtop||"auto"!=lazyloadElems[i].getAttribute(lazySizesCfg.sizesAttr)))&&(autoLoadElem=preloadElems[0]||lazyloadElems[i]);autoLoadElem&&!loadedSomething&&unveilElement(autoLoadElem)}},throttledCheckElements=function(fn){var running,lastTime=0,gDelay=lazySizesCfg.throttleDelay,rICTimeout=lazySizesCfg.ricTimeout,run=function(){running=!1,lastTime=Date.now(),fn()},idleCallback=requestIdleCallback&&rICTimeout>49?function(){requestIdleCallback(run,{timeout:rICTimeout}),rICTimeout!==lazySizesCfg.ricTimeout&&(rICTimeout=lazySizesCfg.ricTimeout)}:rAFIt((function(){setTimeout(run)}),!0);return function(isPriority){var delay;(isPriority=!0===isPriority)&&(rICTimeout=33),running||(running=!0,(delay=gDelay-(Date.now()-lastTime))<0&&(delay=0),isPriority||delay<9?idleCallback():setTimeout(idleCallback,delay))}}(checkElements),switchLoadingClass=function(e){var elem=e.target;elem._lazyCache?delete elem._lazyCache:(resetPreloading(e),addClass(elem,lazySizesCfg.loadedClass),removeClass(elem,lazySizesCfg.loadingClass),addRemoveLoadEvents(elem,rafSwitchLoadingClass),triggerEvent(elem,"lazyloaded"))},rafedSwitchLoadingClass=rAFIt(switchLoadingClass),rafSwitchLoadingClass=function(e){rafedSwitchLoadingClass({target:e.target})},handleSources=function(source){var customMedia,sourceSrcset=source.getAttribute(lazySizesCfg.srcsetAttr);(customMedia=lazySizesCfg.customMedia[source.getAttribute("data-media")||source.getAttribute("media")])&&source.setAttribute("media",customMedia),sourceSrcset&&source.setAttribute("srcset",sourceSrcset)},lazyUnveil=rAFIt((function(elem,detail,isAuto,sizes,isImg){var src,srcset,parent,isPicture,event,firesLoad;(event=triggerEvent(elem,"lazybeforeunveil",detail)).defaultPrevented||(sizes&&(isAuto?addClass(elem,lazySizesCfg.autosizesClass):elem.setAttribute("sizes",sizes)),srcset=elem.getAttribute(lazySizesCfg.srcsetAttr),src=elem.getAttribute(lazySizesCfg.srcAttr),isImg&&(isPicture=(parent=elem.parentNode)&&regPicture.test(parent.nodeName||"")),firesLoad=detail.firesLoad||"src"in elem&&(srcset||src||isPicture),event={target:elem},addClass(elem,lazySizesCfg.loadingClass),firesLoad&&(clearTimeout(resetPreloadingTimer),resetPreloadingTimer=setTimeout(resetPreloading,2500),addRemoveLoadEvents(elem,rafSwitchLoadingClass,!0)),isPicture&&forEach.call(parent.getElementsByTagName("source"),handleSources),srcset?elem.setAttribute("srcset",srcset):src&&!isPicture&&(regIframe.test(elem.nodeName)?function(elem,src){try{elem.contentWindow.location.replace(src)}catch(e){elem.src=src}}(elem,src):elem.src=src),isImg&&(srcset||isPicture)&&updatePolyfill(elem,{src})),elem._lazyRace&&delete elem._lazyRace,removeClass(elem,lazySizesCfg.lazyClass),rAF((function(){var isLoaded=elem.complete&&elem.naturalWidth>1;firesLoad&&!isLoaded||(isLoaded&&addClass(elem,"ls-is-cached"),switchLoadingClass(event),elem._lazyCache=!0,setTimeout((function(){"_lazyCache"in elem&&delete elem._lazyCache}),9)),"lazy"==elem.loading&&isLoading--}),!0)})),unveilElement=function(elem){if(!elem._lazyRace){var detail,isImg=regImg.test(elem.nodeName),sizes=isImg&&(elem.getAttribute(lazySizesCfg.sizesAttr)||elem.getAttribute("sizes")),isAuto="auto"==sizes;(!isAuto&&isCompleted||!isImg||!elem.getAttribute("src")&&!elem.srcset||elem.complete||hasClass(elem,lazySizesCfg.errorClass)||!hasClass(elem,lazySizesCfg.lazyClass))&&(detail=triggerEvent(elem,"lazyunveilread").detail,isAuto&&autoSizer.updateElem(elem,!0,elem.offsetWidth),elem._lazyRace=!0,isLoading++,lazyUnveil(elem,detail,isAuto,sizes,isImg))}},afterScroll=debounce((function(){lazySizesCfg.loadMode=3,throttledCheckElements()})),altLoadmodeScrollListner=function(){3==lazySizesCfg.loadMode&&(lazySizesCfg.loadMode=2),afterScroll()},onload=function(){isCompleted||(Date.now()-started<999?setTimeout(onload,999):(isCompleted=!0,lazySizesCfg.loadMode=3,throttledCheckElements(),addEventListener("scroll",altLoadmodeScrollListner,!0)))},{_:function(){started=Date.now(),lazysizes.elements=document.getElementsByClassName(lazySizesCfg.lazyClass),preloadElems=document.getElementsByClassName(lazySizesCfg.lazyClass+" "+lazySizesCfg.preloadClass),addEventListener("scroll",throttledCheckElements,!0),addEventListener("resize",throttledCheckElements,!0),addEventListener("pageshow",(function(e){if(e.persisted){var loadingElements=document.querySelectorAll("."+lazySizesCfg.loadingClass);loadingElements.length&&loadingElements.forEach&&requestAnimationFrame((function(){loadingElements.forEach((function(img){img.complete&&unveilElement(img)}))}))}})),window.MutationObserver?new MutationObserver(throttledCheckElements).observe(docElem,{childList:!0,subtree:!0,attributes:!0}):(docElem.addEventListener("DOMNodeInserted",throttledCheckElements,!0),docElem.addEventListener("DOMAttrModified",throttledCheckElements,!0),setInterval(throttledCheckElements,999)),addEventListener("hashchange",throttledCheckElements,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(name){document.addEventListener(name,throttledCheckElements,!0)})),/d$|^c/.test(document.readyState)?onload():(addEventListener("load",onload),document.addEventListener("DOMContentLoaded",throttledCheckElements),setTimeout(onload,2e4)),lazysizes.elements.length?(checkElements(),rAF._lsFlush()):throttledCheckElements()},checkElems:throttledCheckElements,unveil:unveilElement,_aLSL:altLoadmodeScrollListner}),autoSizer=(sizeElement=rAFIt((function(elem,parent,event,width){var sources,i,len;if(elem._lazysizesWidth=width,width+="px",elem.setAttribute("sizes",width),regPicture.test(parent.nodeName||""))for(i=0,len=(sources=parent.getElementsByTagName("source")).length;i<len;i++)sources[i].setAttribute("sizes",width);event.detail.dataAttr||updatePolyfill(elem,event.detail)})),getSizeElement=function(elem,dataAttr,width){var event,parent=elem.parentNode;parent&&(width=getWidth(elem,parent,width),(event=triggerEvent(elem,"lazybeforesizes",{width,dataAttr:!!dataAttr})).defaultPrevented||(width=event.detail.width)&&width!==elem._lazysizesWidth&&sizeElement(elem,parent,event,width))},debouncedUpdateElementsSizes=debounce((function(){var i,len=autosizesElems.length;if(len)for(i=0;i<len;i++)getSizeElement(autosizesElems[i])})),{_:function(){autosizesElems=document.getElementsByClassName(lazySizesCfg.autosizesClass),addEventListener("resize",debouncedUpdateElementsSizes)},checkElems:debouncedUpdateElementsSizes,updateElem:getSizeElement}),init=function(){!init.i&&document.getElementsByClassName&&(init.i=!0,autoSizer._(),loader._())};var autosizesElems,sizeElement,getSizeElement,debouncedUpdateElementsSizes;var preloadElems,isCompleted,resetPreloadingTimer,loadMode,started,eLvW,elvH,eLtop,eLleft,eLright,eLbottom,isBodyHidden,regImg,regIframe,supportScroll,currentExpand,isLoading,lowRuns,resetPreloading,isVisible,isNestedVisible,checkElements,throttledCheckElements,switchLoadingClass,rafedSwitchLoadingClass,rafSwitchLoadingClass,handleSources,lazyUnveil,unveilElement,afterScroll,altLoadmodeScrollListner,onload;var running,waiting,firstFns,secondFns,fns,run,rafBatch;return setTimeout((function(){lazySizesCfg.init&&init()})),lazysizes={cfg:lazySizesCfg,autoSizer,loader,init,uP:updatePolyfill,aC:addClass,rC:removeClass,hC:hasClass,fire:triggerEvent,gW:getWidth,rAF}}(window,window.document,Date);window.lazySizes=lazySizes,module.exports&&(module.exports=lazySizes)}("undefined"!=typeof window?window:{})},"./node_modules/lazysizes/plugins/attrchange/ls.attrchange.js":function(module,exports,__webpack_require__){!function(window,factory){if(window){var globalInstall=function(){factory(window.lazySizes),window.removeEventListener("lazyunveilread",globalInstall,!0)};factory=factory.bind(null,window,window.document),module.exports?factory(__webpack_require__("./node_modules/lazysizes/lazysizes.js")):window.lazySizes?globalInstall():window.addEventListener("lazyunveilread",globalInstall,!0)}}("undefined"!=typeof window?window:0,(function(window,document,lazySizes){"use strict";var addObserver=function(){var connect,disconnect,observer,connected,runs,modifications,callMutations,lsCfg=lazySizes.cfg,attributes={"data-bgset":1,"data-include":1,"data-poster":1,"data-bg":1,"data-script":1},regClassTest="(\\s|^)("+lsCfg.loadedClass,docElem=document.documentElement,setClass=function(target){lazySizes.rAF((function(){lazySizes.rC(target,lsCfg.loadedClass),lsCfg.unloadedClass&&lazySizes.rC(target,lsCfg.unloadedClass),lazySizes.aC(target,lsCfg.lazyClass),("none"==target.style.display||target.parentNode&&"none"==target.parentNode.style.display)&&setTimeout((function(){lazySizes.loader.unveil(target)}),0)}))},onMutation=function(mutations){var i,len,mutation,target;for(i=0,len=mutations.length;i<len;i++)(target=(mutation=mutations[i]).target).getAttribute(mutation.attributeName)&&("source"==target.localName&&target.parentNode&&(target=target.parentNode.querySelector("img")),target&&regClassTest.test(target.className)&&setClass(target))};lsCfg.unloadedClass&&(regClassTest+="|"+lsCfg.unloadedClass),regClassTest+="|"+lsCfg.loadingClass+")(\\s|$)",regClassTest=new RegExp(regClassTest),attributes[lsCfg.srcAttr]=1,attributes[lsCfg.srcsetAttr]=1,window.MutationObserver?(observer=new MutationObserver(onMutation),connect=function(){connected||(connected=!0,observer.observe(docElem,{subtree:!0,attributes:!0,attributeFilter:Object.keys(attributes)}))},disconnect=function(){connected&&(connected=!1,observer.disconnect())}):(docElem.addEventListener("DOMAttrModified",(modifications=[],callMutations=function(){onMutation(modifications),modifications=[],runs=!1},function(e){connected&&attributes[e.attrName]&&e.newValue&&(modifications.push({target:e.target,attributeName:e.attrName}),runs||(setTimeout(callMutations),runs=!0))}),!0),connect=function(){connected=!0},disconnect=function(){connected=!1}),addEventListener("lazybeforeunveil",disconnect,!0),addEventListener("lazybeforeunveil",connect),addEventListener("lazybeforesizes",disconnect,!0),addEventListener("lazybeforesizes",connect),connect(),removeEventListener("lazybeforeunveil",addObserver)};addEventListener("lazybeforeunveil",addObserver)}))},44:function(module,exports,__webpack_require__){module.exports=__webpack_require__("./frontend_src/components/image-lazy-load/js/image-lazy-load.js")}});
//# sourceMappingURL=/etc/designs/bmwusa/bmwusa-clientlibs/bmwusa-sourcemaps/bmwusa-image-lazy-load-203902800b3faaf5f071.js.map